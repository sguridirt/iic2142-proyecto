<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header bg-primary text-white">
          <h1 class="text-center">Editar Perfil</h1>
        </div>

        <div class="card-body">
          <!-- Mostrar errores aquí -->
          <%= render 'devise/shared/update_profile_errors', object: @user %>

          <%= form_with(model: @user, url: user_settings_path, method: :patch, html: { multipart: true, data: { turbo: false } }, class: "form-horizontal") do |f| %>

            <div class="mb-3">
              <%= f.label :name, "Nombre", class: "form-label" %>
              <%= f.text_field :name, class: "form-control" %>
            </div>

            <div class="mb-3">
              <%= f.label :email, "Correo Electrónico", class: "form-label" %>
              <%= f.email_field :email, class: "form-control" %>
            </div>

            <div class="mb-3">
              <%= f.label :phone, "Teléfono", class: "form-label" %>
              <%= f.text_field :phone, class: "form-control" %>
            </div>

            <div class="mb-3">
              <%= f.label :avatar, "Subir imagen de perfil", class: "form-label" %>
              <%= f.file_field :avatar, class: "form-control" %>
            </div>

            <hr>

            <h2 class="text-center mt-4">Cambiar Contraseña</h2>

            <div class="mb-3">
              <%= f.label :password, "Nueva contraseña (dejar en blanco si no deseas cambiarla)", class: "form-label" %>
              <% if @minimum_password_length %>
                <small class="text-muted">(<%= @minimum_password_length %> caracteres mínimo)</small>
              <% end %>
              <%= f.password_field :password, class: "form-control", autocomplete: "new-password" %>
            </div>

            <div class="mb-3">
              <%= f.label :password_confirmation, "Confirmar nueva contraseña", class: "form-label" %>
              <%= f.password_field :password_confirmation, class: "form-control", autocomplete: "new-password" %>
            </div>

            <div class="text-center">
              <%= f.submit "Guardar cambios", class: "btn btn-primary btn-lg mt-3" %>
              <%= link_to 'Cancelar', user_settings_path, class: 'btn btn-secondary btn-lg mt-3 ms-2' %>
            </div>

          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
